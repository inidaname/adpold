$(document).ready(function(){function e(e){var a=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return a.test(e)}function a(e){e&&checkme.push(e),checkme=$.unique(checkme),checkme.length>=2&&($("#membership").removeAttr("disabled"),u.keydown(function(){$("#membership").attr("disabled","")}))}function n(e){for(var a=window.location.search.substring(1),n=a.split("&"),t=0;t<n.length;t++){var r=n[t].split("=");if(r[0]==e)return r[1]}return!1}var t=function(e){function a(e,a){return e<<a|e>>>32-a}function n(e,a){var n,t,r,i,o;return r=2147483648&e,i=2147483648&a,n=1073741824&e,t=1073741824&a,o=(1073741823&e)+(1073741823&a),n&t?2147483648^o^r^i:n|t?1073741824&o?3221225472^o^r^i:1073741824^o^r^i:o^r^i}function t(e,a,n){return e&a|~e&n}function r(e,a,n){return e&n|a&~n}function i(e,a,n){return e^a^n}function o(e,a,n){return a^(e|~n)}function u(e,r,i,o,u,l,c){return e=n(e,n(n(t(r,i,o),u),c)),n(a(e,l),r)}function l(e,t,i,o,u,l,c){return e=n(e,n(n(r(t,i,o),u),c)),n(a(e,l),t)}function c(e,t,r,o,u,l,c){return e=n(e,n(n(i(t,r,o),u),c)),n(a(e,l),t)}function s(e,t,r,i,u,l,c){return e=n(e,n(n(o(t,r,i),u),c)),n(a(e,l),t)}function p(e){for(var a,n=e.length,t=n+8,r=(t-t%64)/64,i=16*(r+1),o=Array(i-1),u=0,l=0;n>l;)a=(l-l%4)/4,u=l%4*8,o[a]=o[a]|e.charCodeAt(l)<<u,l++;return a=(l-l%4)/4,u=l%4*8,o[a]=o[a]|128<<u,o[i-2]=n<<3,o[i-1]=n>>>29,o}function m(e){var a,n,t="",r="";for(n=0;3>=n;n++)a=e>>>8*n&255,r="0"+a.toString(16),t+=r.substr(r.length-2,2);return t}function f(e){e=e.replace(/\r\n/g,"\n");for(var a="",n=0;n<e.length;n++){var t=e.charCodeAt(n);128>t?a+=String.fromCharCode(t):t>127&&2048>t?(a+=String.fromCharCode(t>>6|192),a+=String.fromCharCode(63&t|128)):(a+=String.fromCharCode(t>>12|224),a+=String.fromCharCode(t>>6&63|128),a+=String.fromCharCode(63&t|128))}return a}var h,d,v,$,g,y,b,j,C,w=Array(),S=7,x=12,T=17,k=22,A=5,D=9,P=14,O=20,U=4,z=11,E=16,N=23,Z=6,F=10,q=15,I=21;for(e=f(e),w=p(e),y=1732584193,b=4023233417,j=2562383102,C=271733878,h=0;h<w.length;h+=16)d=y,v=b,$=j,g=C,y=u(y,b,j,C,w[h+0],S,3614090360),C=u(C,y,b,j,w[h+1],x,3905402710),j=u(j,C,y,b,w[h+2],T,606105819),b=u(b,j,C,y,w[h+3],k,3250441966),y=u(y,b,j,C,w[h+4],S,4118548399),C=u(C,y,b,j,w[h+5],x,1200080426),j=u(j,C,y,b,w[h+6],T,2821735955),b=u(b,j,C,y,w[h+7],k,4249261313),y=u(y,b,j,C,w[h+8],S,1770035416),C=u(C,y,b,j,w[h+9],x,2336552879),j=u(j,C,y,b,w[h+10],T,4294925233),b=u(b,j,C,y,w[h+11],k,2304563134),y=u(y,b,j,C,w[h+12],S,1804603682),C=u(C,y,b,j,w[h+13],x,4254626195),j=u(j,C,y,b,w[h+14],T,2792965006),b=u(b,j,C,y,w[h+15],k,1236535329),y=l(y,b,j,C,w[h+1],A,4129170786),C=l(C,y,b,j,w[h+6],D,3225465664),j=l(j,C,y,b,w[h+11],P,643717713),b=l(b,j,C,y,w[h+0],O,3921069994),y=l(y,b,j,C,w[h+5],A,3593408605),C=l(C,y,b,j,w[h+10],D,38016083),j=l(j,C,y,b,w[h+15],P,3634488961),b=l(b,j,C,y,w[h+4],O,3889429448),y=l(y,b,j,C,w[h+9],A,568446438),C=l(C,y,b,j,w[h+14],D,3275163606),j=l(j,C,y,b,w[h+3],P,4107603335),b=l(b,j,C,y,w[h+8],O,1163531501),y=l(y,b,j,C,w[h+13],A,2850285829),C=l(C,y,b,j,w[h+2],D,4243563512),j=l(j,C,y,b,w[h+7],P,1735328473),b=l(b,j,C,y,w[h+12],O,2368359562),y=c(y,b,j,C,w[h+5],U,4294588738),C=c(C,y,b,j,w[h+8],z,2272392833),j=c(j,C,y,b,w[h+11],E,1839030562),b=c(b,j,C,y,w[h+14],N,4259657740),y=c(y,b,j,C,w[h+1],U,2763975236),C=c(C,y,b,j,w[h+4],z,1272893353),j=c(j,C,y,b,w[h+7],E,4139469664),b=c(b,j,C,y,w[h+10],N,3200236656),y=c(y,b,j,C,w[h+13],U,681279174),C=c(C,y,b,j,w[h+0],z,3936430074),j=c(j,C,y,b,w[h+3],E,3572445317),b=c(b,j,C,y,w[h+6],N,76029189),y=c(y,b,j,C,w[h+9],U,3654602809),C=c(C,y,b,j,w[h+12],z,3873151461),j=c(j,C,y,b,w[h+15],E,530742520),b=c(b,j,C,y,w[h+2],N,3299628645),y=s(y,b,j,C,w[h+0],Z,4096336452),C=s(C,y,b,j,w[h+7],F,1126891415),j=s(j,C,y,b,w[h+14],q,2878612391),b=s(b,j,C,y,w[h+5],I,4237533241),y=s(y,b,j,C,w[h+12],Z,1700485571),C=s(C,y,b,j,w[h+3],F,2399980690),j=s(j,C,y,b,w[h+10],q,4293915773),b=s(b,j,C,y,w[h+1],I,2240044497),y=s(y,b,j,C,w[h+8],Z,1873313359),C=s(C,y,b,j,w[h+15],F,4264355552),j=s(j,C,y,b,w[h+6],q,2734768916),b=s(b,j,C,y,w[h+13],I,1309151649),y=s(y,b,j,C,w[h+4],Z,4149444226),C=s(C,y,b,j,w[h+11],F,3174756917),j=s(j,C,y,b,w[h+2],q,718787259),b=s(b,j,C,y,w[h+9],I,3951481745),y=n(y,d),b=n(b,v),j=n(j,$),C=n(C,g);var L=m(y)+m(b)+m(j)+m(C);return L.toLowerCase()},r="",i="";$("#passport").change(function(){var e=this.files[0];picname=e.name,picsize=e.size,pictype=e.type;var a=["image/jpg","image/jpeg","image/png","image/gif"];if($.inArray(pictype,a)){var n=new FormData;n.append("file",$("input[type=file]")[0].files[0]),$.ajax({url:"/php/ajax/imageupload.php",type:"POST",data:n,contentType:!1,cache:!1,processData:!1,success:function(e){r=e}})}else;}),checkme=[];var o=$("#fullname"),u=$("#phonenumber");if(o.click(function(){$("#nalab").css("display","inline").fadeIn("13000")}),u.click(function(){$("#nalab").css("display","inline").fadeOut("13000"),$("#useable").html("Phone Number or Email")}),o.change(function(){a("fullname")}),u.change(function(){$.isNumeric(u.val())||e(u.val())?$.ajax({url:"/php/ajax/checkuser.php",type:"POST",data:{contactDetail:u.val()},dataType:"json"}).done(function(e){$("#useable").html(e.message),1==e.success&&a("phonenumber")}):$("#useable").html("Please Phone Number or Email")}),$("#membership").click(function(e){$.ajax({url:"/php/ajax/register.php",type:"POST",data:{fullname:o.val(),contactDetail:u.val()},dataType:"json"}).done(function(e){window.location.href="register.html?p="+e.hashUser+"t="+t(o+u)}),e.preventDefault()}),$("form").submit(function(e){$.ajax({url:"/php/ajax/fullpro.php",type:"POST",dataType:"json",data:{picture:r,firstname:$("input[name=firstname]").val(),lastname:$("input[name=lastname]").val(),gender:$("select[name=gender]").val(),dateofbirth:$("input[name=dateofbirth]").val(),phone:$("input[name=phone]").val(),email:$("input[name=emaildd]").val(),hashUser:$("input[name=hashUser]").val()}}).done(function(e){i=t($("input[name=emaildd]").val()+$("input[name=phone]").val()),1==e.success&&(window.location.href="register.html?p="+e.hashUser+"&t="+i)}),e.preventDefault()}),window.location.href.indexOf("register")>-1){var l=n("p"),c=n("t");""!==l&&1==c&&($(".regForm").slideDown(1e3),$("#hashUser").val(l),$.ajax({url:"/php/ajax/getit.php",type:"POST",dataType:"json",data:{hashUser:l}}).done(function(e){if(console.log(e),1==e.success){var a=e.userdatas.fullname,n=a.split(" "),t=n[0],r=n[1];$("input[name=firstname]").val(t),$("input[name=lastname]").val(r),"Email"==e.userdatas.contactType?$("input[name=emaildd]").val(e.userdatas.contactDetail).attr("disabled",""):$("input[name=phone]").val(e.userdatas.contactDetail).attr("disabled","")}}))}});